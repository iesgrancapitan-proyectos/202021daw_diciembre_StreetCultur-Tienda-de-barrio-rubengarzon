<mat-toolbar color="primary" style="height: 5em;">
  <button mat-icon-button class="icon-button" [matMenuTriggerFor]="menu">
    <mat-icon>menu</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item class="item" [routerLink]="['/']">INICIO</button>
    <button mat-menu-item class="item" [routerLink]="['/ropa']">ROPA</button>
  </mat-menu>

  <img src="../../../../assets/logo.gif" width="120" alt="">

  <span class="example-spacer"></span>

  <button mat-button class="item" [routerLink]="['/']">INICIO</button>
  <button mat-button class="item" [routerLink]="['/ropa']">ROPA</button>

  <span class="example-spacer"></span>
  <button
    *ngIf="estaLogueado"
    mat-icon-button
    class="example-icon"
    aria-label="Example icon-button with heart icon"
    routerLink="/puntos"
    routerLinkActive="active"
  >
    <mat-icon matBadge="0" matBadgeColor="accent">card_giftcard</mat-icon>
  </button>

  <button
    *ngIf="estaLogueado"
    mat-icon-button
    class="example-icon"
    aria-label="Example icon-button with heart icon"
    routerLink="/cart"
    routerLinkActive="active"
  >
    <mat-icon [matBadge]="numProductos" matBadgeColor="accent">shopping_cart</mat-icon>
  </button>
  <button
   *ngIf="!estaLogueado"
    mat-icon-button
    class="example-icon"
    aria-label="Example icon-button with heart icon"
    routerLinkActive="active"
    matTooltip="Iniciar Sesión"
    data-toggle="modal"
    (click)="frame.show()"
    mdbWavesEffect
  >
    <mat-icon>account_circle</mat-icon>
  </button>
  <button
    *ngIf="estaLogueado"
    mat-icon-button
    class="example-icon"
    aria-label="Example icon-button with heart icon"
    routerLink=""
    routerLinkActive="active"
    (click)="cerrarSesion()"
  >
    <mat-icon matBadgeColor="accent">exit_to_app</mat-icon>
  </button>
</mat-toolbar>



<div mdbModal #frame="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Iniciar Sesión</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frame.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <app-login></app-login>
        </div>
      </div>
    </div>
  </div>
</div>



<meta name="description" content="Responsive Material Design Lite Table" />
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
/>
<link
  rel="stylesheet"
  href="https://code.getmdl.io/1.1.3/material.green-light_green.min.css"
/>
<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>

<div *ngIf="carritoVacio == true; else carroNoVacio" style="margin-top: 5em; margin-bottom: 11em;display:flex;flex-direction: column; align-items: center;">
  <img src="../../../assets/caratriste.png" width="100">
  <h2>El carrito está vacío</h2>

</div>

<ng-template #carroNoVacio>
  <h3 style="text-align: center" *ngIf="numProductos == 1; else productos">
    Tienes {{ numProductos }} producto guardados
  </h3>
  <ng-template #productos>
    <h3 style="text-align: center">
      Tienes {{ numProductos }} productos guardados
    </h3>
  </ng-template>

  <section class="mdl-grid" id="my-table">
    <div class="mdl-layout-spacer"></div>
    <div
      class="
        mdl-cell
        mdl-cell--6-col-tablet
        mdl-cell--10-col-desktop
        mdl-cell--stretch
      "
    >
      <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
        <thead>
          <tr>
            <th>Imagen</th>
            <th>Nombre del producto</th>
            <th>Precio</th>
            <th>Cantidad</th>
            <th>Total</th>
            <th>Talla</th>
            <th>Eliminar Producto</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of carrito">
            <td><img src="{{item.imagen}}" width="100"></td>
            <td>
              {{ item.nombre }}
            </td>
            <td>{{ item.precio }}</td>
            <td>{{ item.cantidad }}</td>
            <td>{{ item.total }}€</td>
            <td>{{ item.talla }}</td>
            <td>
              <mat-icon
              matTooltip="borrar"
                style="cursor: pointer"
                (click)="borrarProducto(item.id)"
                >delete</mat-icon
              >
            </td>
          </tr>
          <tr style="cursor: default">
            <td>
              <button
                mat-raised-button
                color="primary"
                [routerLink]="['/pedido']"
              >
                Confirmar pedido
              </button>
            </td>
            <td>
              <button mat-raised-button color="accent" [routerLink]="['/']">
                Comprar más
              </button>
            </td>
            <td>
              <button mat-raised-button color="warn" (click)="borrarProductos()">Vaciar Carrito</button>
            </td>
          </tr>
        </tbody>
      </table>
      <br />
    </div>
    <div class="mdl-layout-spacer"></div>
  </section>
</ng-template>

<app-footer></app-footer>
